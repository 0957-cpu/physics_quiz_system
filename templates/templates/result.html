{% extends "base.html" %}
{% block content %}

<h2>ğŸ“Š ä½œç­”çµæœ</h2>
<p>å­¸ç”Ÿï¼š{{ name }}</p>
<p>æœ¬æ¬¡å¾—åˆ†ï¼š<b>{{ score }}</b> åˆ†</p>

<hr>

{% for r in results %}
  <div style="margin-bottom: 18px; padding: 10px; border: 1px solid #ccc; border-radius: 8px;">
    
    <!-- é¡Œå¹¹ -->
    <p><b>{{ loop.index }}. {{ r.text }}</b></p>

    <!-- å­¸ç”Ÿç­”æ¡ˆ / æ­£ç¢ºç­”æ¡ˆ -->
    <p>
      <b>ä½ çš„ç­”æ¡ˆï¼š</b>
      {% if r.user_answer %}
        {{ r.user_answer }}
      {% else %}
        <span style="color:gray;">ï¼ˆæœªä½œç­”ï¼‰</span>
      {% endif %}
    </p>

    <p>
      <b>æ­£ç¢ºç­”æ¡ˆï¼š</b> {{ r.answer }}
    </p>

    <!-- é¡¯ç¤ºè©³è§£ (ç”± settings.show_explanation æ§åˆ¶) -->
    {% if show_explanation %}
      <p style="margin-top: 8px;">
        <b>è©³è§£ï¼š</b><br>
        {{ r.explanation }}
      </p>
    {% endif %}

    <!-- ç­”å° / ç­”éŒ¯æ¨™ç¤º -->
    {% if r.correct %}
      <p style="color: green;"><b>âœ” ç­”å°ï¼</b></p>
    {% else %}
      <p style="color: red;"><b>âœ˜ ç­”éŒ¯</b></p>
    {% endif %}

  </div>
{% endfor %}

<hr>

<!-- è¿”å›ä½œç­” / ç™»å‡ºæŒ‰éˆ• -->
<a href="{{ url_for('quiz') }}">
  <button style="margin-right:10px;">å†ç·´ä¸€æ¬¡</button>
</a>

<form method="post" action="{{ url_for('logout') }}" style="display:inline;">
  <button type="submit">ç™»å‡º</button>
</form>

{% endblock %}

